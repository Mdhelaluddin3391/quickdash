/* --- Floating Button (With Bouncy Animation) --- */
.assistant-btn {
    position: fixed; bottom: 30px; right: 30px;
    width: 65px; height: 65px;
    background: linear-gradient(135deg, #32CD32, #58D68D); /* Soft Green Gradient */
    color: white;
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    box-shadow: 0 10px 25px rgba(46, 204, 113, 0.5);
    cursor: pointer; z-index: 9999;
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Spring effect */
    animation: floatBtn 3s ease-in-out infinite;
}

.assistant-btn:hover { 
    transform: scale(1.1) rotate(-10deg); 
    box-shadow: 0 15px 35px rgba(46, 204, 113, 0.6);
}

.assistant-btn i { font-size: 2rem; }

/* --- Chat Box (Rounded & Soft) --- */
.assistant-box {
    position: fixed; bottom: 110px; right: 30px;
    width: 340px; height: 480px;
    background: #fff; 
    border-radius: 24px; /* Super rounded corners */
    box-shadow: 0 20px 60px rgba(0,0,0,0.15);
    display: none; flex-direction: column;
    z-index: 9999; overflow: hidden;
    border: none;
    transform-origin: bottom right;
}

.assistant-box.active { 
    display: flex; 
    animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
}

/* --- Header --- */
.ast-header {
    background: linear-gradient(135deg, #32CD32, #82E0AA);
    color: #fff; padding: 20px;
    display: flex; align-items: center; justify-content: space-between;
    border-radius: 24px 24px 0 0;
}
.ast-header h4 { font-size: 1.1rem; margin: 0; font-weight: 700; letter-spacing: 0.5px; }
.ast-header i { 
    background: rgba(255,255,255,0.2); 
    padding: 5px; border-radius: 50%; width: 28px; height: 28px; 
    display: flex; align-items: center; justify-content: center; transition: 0.2s; 
}
.ast-header i:hover { background: rgba(255,255,255,0.4); transform: rotate(90deg); }

/* --- Body --- */
.ast-body {
    flex-grow: 1; padding: 20px; overflow-y: auto;
    background: #f0fdf4; /* Very light green bg */
    display: flex; flex-direction: column; gap: 12px;
    scrollbar-width: thin;
}

/* --- Bubbles --- */
.msg-row { display: flex; width: 100%; align-items: flex-end; gap: 5px; }
.msg-row.bot { justify-content: flex-start; }
.msg-row.user { justify-content: flex-end; }

.msg-bubble {
    max-width: 80%; padding: 12px 16px; 
    border-radius: 20px; 
    font-size: 0.95rem; line-height: 1.5;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    position: relative;
}

/* Bot Bubble (White with grey border) */
.msg-bubble.bot { 
    background: #fff; 
    color: #444; 
    border-bottom-left-radius: 4px; /* Speech bubble tail */
    border: 1px solid #e1e1e1;
}

/* User Bubble (Green Gradient) */
.msg-bubble.user { 
    background: linear-gradient(135deg, #32CD32, #2ecc71); 
    color: #fff; 
    border-bottom-right-radius: 4px; /* Speech bubble tail */
    border: none;
}

/* --- Footer --- */
.ast-footer {
    padding: 15px; background: #fff;
    display: flex; gap: 10px; align-items: center;
    border-top: 1px solid #f0f0f0;
}

.ast-footer input {
    flex-grow: 1; padding: 12px 20px; 
    border-radius: 30px; border: 1px solid #eee; 
    outline: none; font-size: 0.95rem; background: #f9f9f9;
    transition: 0.2s;
}
.ast-footer input:focus { background: #fff; border-color: #32CD32; box-shadow: 0 0 0 3px rgba(50,205,50,0.1); }

.ast-footer button {
    background: #32CD32; color: #fff; border: none;
    width: 45px; height: 45px; border-radius: 50%; 
    cursor: pointer; box-shadow: 0 4px 10px rgba(50,205,50,0.3);
    transition: 0.2s;
    display: flex; align-items: center; justify-content: center;
}
.ast-footer button:hover { transform: scale(1.1); background: #27ae60; }

/* --- Animations --- */
@keyframes floatBtn {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-8px); }
}

@keyframes popIn {
    0% { opacity: 0; transform: scale(0.8) translateY(20px); }
    100% { opacity: 1; transform: scale(1) translateY(0); }
}