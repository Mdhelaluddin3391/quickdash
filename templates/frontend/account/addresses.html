{% extends "frontend/account/profile_layout.html" %}
{% load static %}

{% block title %}Addresses - QuickDash{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'assets/css/account.css' %}">
{% endblock %}

{% block profile_content %}
<div class="content-header">
    <h2>Saved Addresses</h2>
    <button class="btn-sm btn-primary" onclick="openAddressModal()">
        <i class="fas fa-plus"></i> Add New
    </button>
</div>

<div id="address-grid" class="address-list-grid">
    <div class="loader">Loading...</div>
</div>

<div id="addr-modal" class="modal-overlay" style="display: none;">
    <div class="modal-box">
        <h3>Add Address</h3>
        <form id="add-addr-form">
            <input type="text" id="a-line" placeholder="Flat / House / Street" required>
            <input type="text" id="a-city" placeholder="City" required>
            <input type="text" id="a-pincode" placeholder="Pincode" required>
            
            <div class="mb-3" style="margin-top: 15px; text-align: left;">
                <label class="form-label" style="font-weight: bold; display: block; margin-bottom: 5px;">Address Type</label>
                <div class="btn-group w-100" role="group" style="display: flex; gap: 5px;">
                    <input type="radio" class="btn-check" name="address_type" id="type-home" value="HOME" checked style="display:none;">
                    <label class="btn btn-outline-primary" for="type-home" style="flex: 1; padding: 8px; border: 1px solid #007bff; border-radius: 4px; text-align: center; cursor: pointer;">
                        <i class="fas fa-home"></i> Home
                    </label>

                    <input type="radio" class="btn-check" name="address_type" id="type-work" value="WORK" style="display:none;">
                    <label class="btn btn-outline-primary" for="type-work" style="flex: 1; padding: 8px; border: 1px solid #007bff; border-radius: 4px; text-align: center; cursor: pointer;">
                        <i class="fas fa-briefcase"></i> Work
                    </label>

                    <input type="radio" class="btn-check" name="address_type" id="type-other" value="OTHER" style="display:none;">
                    <label class="btn btn-outline-primary" for="type-other" style="flex: 1; padding: 8px; border: 1px solid #007bff; border-radius: 4px; text-align: center; cursor: pointer;">
                        <i class="fas fa-map-pin"></i> Other
                    </label>
                </div>
            </div>
            <div class="modal-actions">
                <button type="button" class="btn-outline" onclick="closeAddrModal()">Cancel</button>
                <button type="submit" class="btn-primary">Save</button>
            </div>
        </form>
    </div>
</div>

<style>
    .btn-check:checked + .btn-outline-primary {
        background-color: #007bff;
        color: white;
    }
</style>
{% endblock %}

{% block extra_js %}
<script src="{% static 'assets/js/pages/account/addresses.js' %}"></script>
{% endblock %}