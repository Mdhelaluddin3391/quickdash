{% extends "base.html" %}
{% load static %}

{% block title %}Home - QuickDash{% endblock %}

{% block extra_css %}
<style>
    .hero-section {
        padding: 0; margin: 0; background: #fff;
    }
    .scroll-banner {
        display: flex; gap: 0; overflow-x: auto;
        scroll-snap-type: x mandatory; scroll-behavior: smooth;
    }
    .promo-card {
        flex-shrink: 0; width: 100%; height: 200px;
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        position: relative; overflow: hidden;
        padding: 20px 25px; color: #fff;
        scroll-snap-align: center;
        display: flex; align-items: center; justify-content: space-between;
    }
    .promo-card.dark-theme { background: linear-gradient(135deg, #485461, #2d3436); }
    .promo-content h3 { font-size: 1.8rem; font-weight: 700; line-height: 1.2; }
    .promo-content p { font-size: 1.1rem; opacity: 0.9; }
    .promo-image { font-size: 6rem; opacity: 0.3; transform: rotate(-10deg); }
    
    /* Section Styles */
    section { padding: 20px; background: #fff; margin-bottom: 10px; }
    .section-title { display: flex; justify-content: space-between; margin-bottom: 15px; }
    .view-all { color: var(--primary); font-weight: 600; font-size: 0.9rem; }
    
    /* Grid & Scroller */
    .categories { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; text-align: center; }
    .category-card img { width: 50px; height: 50px; border-radius: 50%; margin-bottom: 5px; }
    .category-card h3 { font-size: 0.8rem; color: var(--dark); }
    
    .scroll-container { overflow-x: auto; padding-bottom: 10px; }
    .product-grid { display: flex; gap: 15px; }
    
    @media(max-width: 600px) {
        .categories { grid-template-columns: repeat(3, 1fr); }
    }
</style>
{% endblock %}

{% block content %}
<section class="hero-section">
    <div class="scroll-banner">
        <a href="/category.html" class="promo-card">
            <div class="promo-content">
                <h3>Fresh Apples</h3>
                <p>Upto 30% OFF</p>
            </div>
            <i class="fas fa-apple-alt promo-image"></i>
        </a>
        <a href="/category.html" class="promo-card dark-theme">
            <div class="promo-content">
                <h3>Snack Combo</h3>
                <p>Only at â‚¹99</p>
            </div>
            <i class="fas fa-cookie-bite promo-image"></i>
        </a>
    </div>
</section>

<section class="mt-3">
    <div class="section-title" style="padding: 0 20px;">
        <h3>Shop By Category</h3>
    </div>
    
    <div class="category-grid-home" id="home-category-grid">
        <div class="loader"></div>
    </div>
</section>

<style>
    .category-grid-home {
        display: grid;
        grid-template-columns: repeat(4, 1fr); /* 4 items per row mobile */
        gap: 15px;
        padding: 15px 20px;
    }
    
    .cat-item-home {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        cursor: pointer;
    }
    
    .cat-icon-box {
        width: 65px;
        height: 65px;
        background: #e6f7ef; /* Light Green Bg */
        border-radius: 15px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 8px;
        transition: transform 0.2s;
    }
    
    .cat-item-home:hover .cat-icon-box {
        transform: scale(1.05);
        background: #d4edda;
    }
    
    .cat-icon-box img {
        width: 35px;
        height: 35px;
        object-fit: contain;
    }
    
    .cat-label {
        font-size: 0.75rem;
        font-weight: 600;
        color: var(--dark);
        line-height: 1.2;
    }

    @media (min-width: 768px) {
        .category-grid-home {
            grid-template-columns: repeat(8, 1fr); /* Desktop: 8 items per row */
        }
    }
</style>

<section>
    <div class="section-title">
        <h2>Featured Products</h2>
        <a href="/category.html" class="view-all">See All</a>
    </div>
    <div class="scroll-container">
        <div class="product-grid" id="home-featured-products">
            </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script src="{% static 'assets/js/utils/home.js' %}"></script>
{% endblock %}